<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer">
    
    <meta name="description" content="Discoveries and encounters in the world of analytics (and R)">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:domain" content="/">
    
    <meta name="twitter:image" content="/tn.png">
    <meta name="twitter:title" property="og:title" itemprop="title name" content="The Hungry Wonderer">
    <meta name="twitter:description" property="og:description" itemprop="description" content="Discoveries and encounters in the world of analytics (and R)">
    <meta name="og:type" content="website">
    <meta name="og:url" content="/">
    <meta name="og:image" itemprop="image primaryImageOfPage" content="/tn.png">
    
    <title>The Hungry Wonderer</title>
    <link rel="shortcut icon" href="/sam.ico" id="favicon">
    <link rel="stylesheet" href="/css/style.css">
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Didact+Gothic">
    
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous"></script>
    
    

	
	<link rel="stylesheet" href="/css/github-gist.css" rel="stylesheet" id="theme-stylesheet">
	<script src="/js/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
</head>

</html>

<body>
	<div class="wrap">
		
		<div class="section top-menu"><p><a href="/posts">back</a> &#183;
			<a href="/posts">writing</a>
			
			
			&#183; <a href="/gallery">gallery</a>
			&#183; <a href="/about">who?</a>
			
			&#183; <a href="/">main</a></p>
		</div>
		
		<div class="section" id="title">
			Reordering Bar Charts with ggplot
		</div>
		
		<div class="section" id="content">
			2016-04-18 &#183; 271 words 
			<div>
				<span id="tag"><a href="/tags/r">R</a>
				</span>
				<span id="tag"><a href="/tags/ggplot">ggplot</a>
				</span>
				<span id="tag"><a href="/tags/data-visualisation">data visualisation</a>
				</span>
			</div><hr/><p>Found this solution on stack overflow and it was brilliant!</p>
<p><a href="http://stackoverflow.com/questions/5967593/ordering-of-bars-in-ggplot" class="uri">http://stackoverflow.com/questions/5967593/ordering-of-bars-in-ggplot</a></p>
<p>In particular, I’d never heard of the <code>reorder()</code> command before and would usually reorder the data frame for plotting manually.</p>
<p>Here’s how I would have normally done it:</p>
<pre class="r"><code>## Notice the as.is = TRUE
breadth_data &lt;- read.table(textConnection(&quot;Stakeholder  Value
                                          &#39;Grantseekers&#39;  0.90
                                          &#39;Donors&#39;    0.89
                                          &#39;Community&#39; 0.55
                                          &#39;Hurricane Relief Fund&#39; 0.24
                                          &#39;Media&#39; 0.19
                                          &#39;Employment Seekers&#39;    0.12
                                          &#39;Affiliates&#39;    0.10
                                          &#39;Youth&#39; 0.09
                                          &#39;Women&#39; 0.02
                                          &#39;Former Board Members&#39;  0.01&quot;), 
                           header=TRUE, 
                           as.is = TRUE)
str(breadth_data)</code></pre>
<pre><code>## &#39;data.frame&#39;:    10 obs. of  2 variables:
##  $ Stakeholder: chr  &quot;Grantseekers&quot; &quot;Donors&quot; &quot;Community&quot; &quot;Hurricane Relief Fund&quot; ...
##  $ Value      : num  0.9 0.89 0.55 0.24 0.19 0.12 0.1 0.09 0.02 0.01</code></pre>
<p>Since the <code>Stakeholder</code> column in the data frame are factors, you can specify the factors order for this data frame. Here, I’ve ordered it in ascending order of <code>Value</code>.</p>
<pre class="r"><code># reorder manually
orderIdx &lt;- order(breadth_data$Value)
breadth_data &lt;- breadth_data[orderIdx, ]
breadth_data$Stakeholder &lt;- factor(breadth_data$Stakeholder,
                                   levels = breadth_data$Stakeholder,
                                   labels = breadth_data$Stakeholder)
levels(breadth_data$Stakeholder)</code></pre>
<pre><code>##  [1] &quot;Former Board Members&quot;  &quot;Women&quot;                
##  [3] &quot;Youth&quot;                 &quot;Affiliates&quot;           
##  [5] &quot;Employment Seekers&quot;    &quot;Media&quot;                
##  [7] &quot;Hurricane Relief Fund&quot; &quot;Community&quot;            
##  [9] &quot;Donors&quot;                &quot;Grantseekers&quot;</code></pre>
<pre class="r"><code># plot
library(ggplot2)
ggplot(breadth_data, aes(x = Stakeholder, y = Value)) + 
  geom_bar(stat = &quot;identity&quot;) +
  coord_flip() +
  theme_bw()</code></pre>
<p><img src="/posts/2016-04-18-reordering-bar-charts-with-ggplot_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>With the <code>reorder()</code> function, this whole process is simplified. Let’s start the whole process again:</p>
<pre class="r"><code>breadth_data.new &lt;- read.table(textConnection(&quot;Stakeholder  Value
                                          &#39;Grantseekers&#39;  0.90
                                              &#39;Donors&#39;    0.89
                                              &#39;Community&#39; 0.55
                                              &#39;Hurricane Relief Fund&#39; 0.24
                                              &#39;Media&#39; 0.19
                                              &#39;Employment Seekers&#39;    0.12
                                              &#39;Affiliates&#39;    0.10
                                              &#39;Youth&#39; 0.09
                                              &#39;Women&#39; 0.02
                                              &#39;Former Board Members&#39;  0.01&quot;), 
                               header=TRUE)
breadth_data.new &lt;- transform(breadth_data.new,
                          Stakeholder = reorder(Stakeholder, Value))

ggplot(breadth_data.new, aes(x = Stakeholder, y = Value)) +
  geom_bar(stat = &quot;identity&quot;) +
  coord_flip() +
  theme_bw()</code></pre>
<p><img src="/posts/2016-04-18-reordering-bar-charts-with-ggplot_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>

		</div>
		
		<div class="section bottom-menu"><hr/><p><a href="/posts">back</a> &#183;
			<a href="/posts">writing</a>
			
			
			&#183; <a href="/gallery">gallery</a>
			&#183; <a href="/about">who?</a>
			
			&#183; <a href="/">main</a></p>
		</div>
		 
		<div class="section footer">
			Discoveries and encounters in the world of analytics (and R)
<script src="//yihui.name/js/math-code.js"></script>
<script async
src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
		</div>
	</div>
</body>